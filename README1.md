# ğŸ¢ VIVN HRM (StaffSphere)

<p align="center">
  <img src="logo.png" alt="StaffSphere Logo" width="120" height="120">
</p>

<p align="center">
  <strong>Há»‡ thá»‘ng Quáº£n lÃ½ NhÃ¢n sá»± vÃ  TÃ­nh lÆ°Æ¡ng theo quy Ä‘á»‹nh Viá»‡t Nam</strong>
</p>

<p align="center">
  <em>Vietnamese Human Resource Management & Payroll System</em>
</p>

---

## ğŸ“‹ Giá»›i thiá»‡u | Introduction

**VIVN HRM** (StaffSphere) lÃ  má»™t á»©ng dá»¥ng quáº£n lÃ½ nhÃ¢n sá»± toÃ n diá»‡n Ä‘Æ°á»£c thiáº¿t káº¿ dÃ nh riÃªng cho doanh nghiá»‡p Viá»‡t Nam. Há»‡ thá»‘ng tÃ­ch há»£p Ä‘áº§y Ä‘á»§ cÃ¡c tÃ­nh nÄƒng tá»« quáº£n lÃ½ thÃ´ng tin nhÃ¢n viÃªn, tÃ­nh lÆ°Æ¡ng theo quy Ä‘á»‹nh thuáº¿ Viá»‡t Nam, Ä‘áº¿n xá»­ lÃ½ cÃ¡c biá»ƒu máº«u cÃ´ng tÃ¡c vÃ  quáº£n lÃ½ dá»± Ã¡n.

*VIVN HRM (StaffSphere) is a comprehensive HR management application designed specifically for Vietnamese enterprises. The system integrates features from employee information management, salary calculation according to Vietnamese tax regulations, to processing business travel forms and project management.*

---

## âœ¨ TÃ­nh nÄƒng chÃ­nh | Key Features

### ğŸ‘¥ **Quáº£n lÃ½ NhÃ¢n viÃªn | Employee Management**
- Dashboard tá»•ng quan nhÃ¢n viÃªn vá»›i bá»™ lá»c vÃ  tÃ¬m kiáº¿m
- Quáº£n lÃ½ CRUD thÃ´ng tin nhÃ¢n viÃªn Ä‘áº§y Ä‘á»§
- Import/Export dá»¯ liá»‡u nhÃ¢n viÃªn tá»« Excel
- Xem chi tiáº¿t há»“ sÆ¡ tá»«ng nhÃ¢n viÃªn
- PhÃ¢n loáº¡i theo phÃ²ng ban, vá»‹ trÃ­, tráº¡ng thÃ¡i cÃ´ng tÃ¡c

### ğŸ’° **TÃ­nh lÆ°Æ¡ng & Thuáº¿ | Payroll & Tax Calculator**
- TÃ­nh lÆ°Æ¡ng tá»± Ä‘á»™ng theo quy Ä‘á»‹nh thuáº¿ Viá»‡t Nam 2024
- Há»— trá»£ 7 báº­c thuáº¿ thu nháº­p cÃ¡ nhÃ¢n (PIT)
- TÃ­nh báº£o hiá»ƒm xÃ£ há»™i (BHXH) cho cáº£ cÃ´ng ty vÃ  nhÃ¢n viÃªn
- TÃ­nh tiá»n lÃ m thÃªm giá» (OT 1.5x, 2.0x, 3.0x)
- Giáº£m trá»« ngÆ°á»i phá»¥ thuá»™c
- Xuáº¥t báº£ng lÆ°Æ¡ng Excel vÃ  phiáº¿u lÆ°Æ¡ng (Payslip)
- Gá»­i phiáº¿u lÆ°Æ¡ng qua email

### ğŸ“ **Biá»ƒu máº«u CÃ´ng tÃ¡c | Travel Forms**
- **F21**: Tá» khai Ä‘á» nghá»‹ táº¡m á»©ng cÃ´ng tÃ¡c phÃ­
- **F22**: Tá» khai thanh toÃ¡n táº¡m á»©ng
- **F23**: BÃ¡o cÃ¡o tá»•ng há»£p chi phÃ­ cÃ´ng tÃ¡c
- Tá»± Ä‘á»™ng Ä‘iá»n thÃ´ng tin tá»« há»“ sÆ¡ nhÃ¢n viÃªn
- Xuáº¥t file Word (.docx) theo máº«u chuáº©n
- Há»— trá»£ in trá»±c tiáº¿p

### ğŸ” **Xá»­ lÃ½ BiÃªn lai | Payment Voucher Processing**
- TrÃ­ch xuáº¥t thÃ´ng tin tá»« PDF biÃªn lai thanh toÃ¡n
- Xá»­ lÃ½ hÃ¬nh áº£nh biÃªn lai báº±ng AI (OpenAI/Anthropic)
- PhÃ¢n loáº¡i chi phÃ­ tá»± Ä‘á»™ng
- Táº¡o bÃ¡o cÃ¡o tá»•ng há»£p chi phÃ­ theo nhÃ¢n viÃªn

### ğŸ“Š **Biá»ƒu máº«u Kiá»ƒm tra | Inspection Forms**
- **F32**: Biá»ƒu máº«u kiá»ƒm tra thiáº¿t bá»‹
- **F60**: Biá»ƒu máº«u bÃ¡o cÃ¡o kiá»ƒm tra
- TrÃ­ch xuáº¥t dá»¯ liá»‡u tá»« PDF
- Xuáº¥t file Word theo máº«u chuáº©n

### ğŸ’µ **Sá»• Quá»¹ | Cash Book**
- Quáº£n lÃ½ thu chi tiá»n máº·t
- Theo dÃµi sá»‘ dÆ° Ä‘áº§u ká»³/cuá»‘i ká»³
- Xuáº¥t bÃ¡o cÃ¡o Excel

### ğŸ“ˆ **Quáº£n lÃ½ Dá»± Ã¡n | Project Management**
- Báº£ng Kanban quáº£n lÃ½ task vá»›i drag & drop
- Gantt Chart theo dÃµi tiáº¿n Ä‘á»™ dá»± Ã¡n
- Timeline team - xem lá»‹ch lÃ m viá»‡c cá»§a nhÃ¢n viÃªn
- Dashboard workload Ä‘Ã¡nh giÃ¡ khá»‘i lÆ°á»£ng cÃ´ng viá»‡c
- Quáº£n lÃ½ projects vá»›i tráº¡ng thÃ¡i (Planning, In Progress, Completed, On Hold)
- PhÃ¢n cÃ´ng task cho team members
- Theo dÃµi deadline vÃ  priority (Low, Medium, High, Critical)
- Thá»‘ng kÃª tiáº¿n Ä‘á»™ dá»± Ã¡n theo biá»ƒu Ä‘á»“

### ğŸ” **XÃ¡c thá»±c | Authentication**
- ÄÄƒng nháº­p/ÄÄƒng kÃ½ tÃ i khoáº£n
- KhÃ´i phá»¥c máº­t kháº©u
- PhÃ¢n quyá»n ngÆ°á»i dÃ¹ng

---

## ğŸ› ï¸ CÃ´ng nghá»‡ | Tech Stack

### Backend
| CÃ´ng nghá»‡ | MÃ´ táº£ |
|-----------|-------|
| **FastAPI** | Web framework hiá»‡u suáº¥t cao cho Python |
| **Uvicorn** | ASGI server |
| **Pydantic** | Data validation |
| **Pandas** | Xá»­ lÃ½ dá»¯ liá»‡u Excel |
| **OpenPyXL** | Äá»c/ghi file Excel |
| **python-docx** | Táº¡o file Word |
| **OpenAI/Anthropic** | AI cho OCR biÃªn lai |
| **Pillow** | Xá»­ lÃ½ hÃ¬nh áº£nh |

### Frontend
| CÃ´ng nghá»‡ | MÃ´ táº£ |
|-----------|-------|
| **React 18** | UI Library |
| **TypeScript** | Type-safe JavaScript |
| **Material UI 5** | Component library |
| **Tailwind CSS** | Utility CSS framework |
| **Radix UI** | Accessible components |
| **React Query** | Server state management |
| **React Router** | Client-side routing |
| **Recharts** | Charts & visualization |
| **Framer Motion** | Animations |
| **Vite** | Build tool |

---

## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c | Project Structure

```
VIVN_HRM/
â”œâ”€â”€ backend/                    # Backend FastAPI
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â””â”€â”€ routes.py      # API endpoints
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â””â”€â”€ schemas.py     # Pydantic models
â”‚   â”‚   â”œâ”€â”€ services/          # Business logic
â”‚   â”‚   â”‚   â”œâ”€â”€ calculator.py  # Salary calculator
â”‚   â”‚   â”‚   â”œâ”€â”€ employee_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ payroll_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ travel_form_service/
â”‚   â”‚   â”‚   â”œâ”€â”€ inspection_form_service/
â”‚   â”‚   â”‚   â”œâ”€â”€ payment_voucher_service/
â”‚   â”‚   â”‚   â”œâ”€â”€ cash_book_service.py
â”‚   â”‚   â”‚   â””â”€â”€ email/
â”‚   â”‚   â”œâ”€â”€ storage/           # JSON data storage
â”‚   â”‚   â””â”€â”€ main.py           # FastAPI app
â”‚   â”œâ”€â”€ templates/            # Document templates
â”‚   â””â”€â”€ run.py               # Entry point
â”‚
â”œâ”€â”€ frontend/                  # Frontend React
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # React components
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/       # Page components
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/          # UI components (shadcn)
â”‚   â”‚   â”‚   â””â”€â”€ hooks/       # Custom hooks
â”‚   â”‚   â”œâ”€â”€ App.tsx          # Main app
â”‚   â”‚   â””â”€â”€ index.tsx        # Entry point
â”‚   â”œâ”€â”€ public/              # Static assets
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ requirements.txt          # Python dependencies
â”œâ”€â”€ start_app.bat            # Windows startup script
â””â”€â”€ README.md
```

---

## ğŸš€ CÃ i Ä‘áº·t & Khá»Ÿi cháº¡y | Installation & Setup

### YÃªu cáº§u há»‡ thá»‘ng | Requirements
- **Python** 3.10+
- **Node.js** 18+
- **npm** hoáº·c **yarn**

### CÃ i Ä‘áº·t nhanh (Windows) | Quick Setup (Windows)

```bash
# Cháº¡y script tá»± Ä‘á»™ng
start_app.bat
```

Script sáº½ tá»± Ä‘á»™ng:
1. CÃ i Ä‘áº·t Python dependencies
2. CÃ i Ä‘áº·t npm dependencies
3. Khá»Ÿi Ä‘á»™ng Backend server
4. Khá»Ÿi Ä‘á»™ng Frontend server
5. Má»Ÿ trÃ¬nh duyá»‡t

### CÃ i Ä‘áº·t thá»§ cÃ´ng | Manual Setup

#### 1. Clone repository
```bash
git clone <repository-url>
cd VIVN_HRM
```

#### 2. CÃ i Ä‘áº·t Backend
```bash
# Táº¡o virtual environment (khuyáº¿n nghá»‹)
python -m venv venv
venv\Scripts\activate  # Windows
# source venv/bin/activate  # Linux/Mac

# CÃ i Ä‘áº·t dependencies
pip install -r requirements.txt
```

#### 3. CÃ i Ä‘áº·t Frontend
```bash
cd frontend
npm install
cd ..
```

#### 4. Cáº¥u hÃ¬nh mÃ´i trÆ°á»ng | Environment Configuration
Táº¡o file `.env` trong thÆ° má»¥c `backend/` (tÃ¹y chá»n):
```env
# Server
PORT=3200
NODE_ENV=development

# AI Services (cho Payment Voucher OCR)
OPENAI_API_KEY=your_openai_api_key
ANTHROPIC_API_KEY=your_anthropic_api_key

# Email (cho gá»­i Payslip)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
```

#### 5. Khá»Ÿi cháº¡y | Start Application

**Terminal 1 - Backend:**
```bash
cd backend
python run.py
```

**Terminal 2 - Frontend:**
```bash
cd frontend
npm start
```

---

## ğŸŒ Truy cáº­p á»©ng dá»¥ng | Access Application

| Service | URL |
|---------|-----|
| **Frontend** | http://localhost:2120 |
| **Backend API** | http://localhost:3200 |
| **API Documentation** | http://localhost:3200/docs |
| **Alternative Docs** | http://localhost:3200/redoc |

---

## ğŸ“Š API Endpoints chÃ­nh | Main API Endpoints

### Authentication
| Method | Endpoint | MÃ´ táº£ |
|--------|----------|-------|
| POST | `/api/auth/login` | ÄÄƒng nháº­p |
| POST | `/api/auth/register` | ÄÄƒng kÃ½ |
| POST | `/api/auth/recover-password` | KhÃ´i phá»¥c máº­t kháº©u |

### Employees
| Method | Endpoint | MÃ´ táº£ |
|--------|----------|-------|
| GET | `/api/employees` | Danh sÃ¡ch nhÃ¢n viÃªn |
| GET | `/api/employees/{id}` | Chi tiáº¿t nhÃ¢n viÃªn |
| POST | `/api/employees` | ThÃªm nhÃ¢n viÃªn |
| PUT | `/api/employees/{id}` | Cáº­p nháº­t nhÃ¢n viÃªn |
| DELETE | `/api/employees/{id}` | XÃ³a nhÃ¢n viÃªn |

### Payroll
| Method | Endpoint | MÃ´ táº£ |
|--------|----------|-------|
| POST | `/api/salary/calculate` | TÃ­nh lÆ°Æ¡ng |
| GET | `/api/payroll/employees` | DS nhÃ¢n viÃªn payroll |
| POST | `/api/payslip/download-excel` | Xuáº¥t payslip Excel |
| POST | `/api/payslip/send-emails` | Gá»­i payslip email |

### Travel Forms
| Method | Endpoint | MÃ´ táº£ |
|--------|----------|-------|
| POST | `/api/travel-form/generate-f21` | Táº¡o form F21 |
| POST | `/api/travel-form/generate-f22` | Táº¡o form F22 |
| POST | `/api/travel-form/generate` | Táº¡o form F23 |

### Cash Book
| Method | Endpoint | MÃ´ táº£ |
|--------|----------|-------|
| GET | `/api/cashbook` | Láº¥y dá»¯ liá»‡u sá»• quá»¹ |
| PUT | `/api/cashbook` | Cáº­p nháº­t sá»• quá»¹ |
| POST | `/api/cashbook/transactions` | ThÃªm giao dá»‹ch |

### Project Management
| Method | Endpoint | MÃ´ táº£ |
|--------|----------|-------|
| GET | `/api/projects` | Danh sÃ¡ch dá»± Ã¡n |
| POST | `/api/projects` | Táº¡o dá»± Ã¡n má»›i |
| PUT | `/api/projects/{id}` | Cáº­p nháº­t dá»± Ã¡n |
| DELETE | `/api/projects/{id}` | XÃ³a dá»± Ã¡n |
| GET | `/api/tasks` | Danh sÃ¡ch cÃ´ng viá»‡c |
| POST | `/api/tasks` | Táº¡o cÃ´ng viá»‡c má»›i |
| PUT | `/api/tasks/{id}` | Cáº­p nháº­t cÃ´ng viá»‡c |
| DELETE | `/api/tasks/{id}` | XÃ³a cÃ´ng viá»‡c |
| GET | `/api/tasks/status/counts` | Thá»‘ng kÃª tráº¡ng thÃ¡i task |
| GET | `/api/team` | Danh sÃ¡ch team members |
| POST | `/api/team` | ThÃªm team member |
| GET | `/api/project-statistics` | Thá»‘ng kÃª dá»± Ã¡n |

---

## ğŸ§® CÃ´ng thá»©c tÃ­nh lÆ°Æ¡ng | Salary Calculation

### Báº£ng thuáº¿ TNCN 2024 | PIT Tax Brackets
| Báº­c | Thu nháº­p chá»‹u thuáº¿ (VND) | Thuáº¿ suáº¥t |
|-----|--------------------------|-----------|
| 1 | Äáº¿n 5,000,000 | 5% |
| 2 | 5,000,000 - 10,000,000 | 10% |
| 3 | 10,000,000 - 18,000,000 | 15% |
| 4 | 18,000,000 - 32,000,000 | 20% |
| 5 | 32,000,000 - 52,000,000 | 25% |
| 6 | 52,000,000 - 80,000,000 | 30% |
| 7 | TrÃªn 80,000,000 | 35% |

### Báº£o hiá»ƒm | Insurance
- **BHXH CÃ´ng ty**: 21.5% lÆ°Æ¡ng Ä‘Ã³ng BH
- **BHXH NhÃ¢n viÃªn**: 10.5% lÆ°Æ¡ng Ä‘Ã³ng BH
- **Má»©c tráº§n BHXH**: 46,800,000 VND
- **Má»©c tráº§n BHYT**: 99,200,000 VND

### Giáº£m trá»« | Deductions
- **Giáº£m trá»« báº£n thÃ¢n**: 11,000,000 VND/thÃ¡ng
- **Giáº£m trá»« ngÆ°á»i phá»¥ thuá»™c**: 4,400,000 VND/ngÆ°á»i/thÃ¡ng

---

## ğŸ“ HÆ°á»›ng dáº«n sá»­ dá»¥ng | User Guide

### 1. ÄÄƒng nháº­p
- Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p http://localhost:2120
- Nháº­p username vÃ  password
- Nháº¥n "ÄÄƒng nháº­p"

### 2. Quáº£n lÃ½ nhÃ¢n viÃªn
- VÃ o menu "NhÃ¢n viÃªn" Ä‘á»ƒ xem dashboard
- Nháº¥n "ThÃªm má»›i" Ä‘á»ƒ thÃªm nhÃ¢n viÃªn
- Nháº¥n vÃ o tÃªn Ä‘á»ƒ xem chi tiáº¿t
- Sá»­ dá»¥ng bá»™ lá»c Ä‘á»ƒ tÃ¬m kiáº¿m

### 3. TÃ­nh lÆ°Æ¡ng
- VÃ o menu "Báº£ng lÆ°Æ¡ng"
- Import file Excel hoáº·c nháº­p thá»§ cÃ´ng
- Há»‡ thá»‘ng tá»± Ä‘á»™ng tÃ­nh thuáº¿, BH
- Xuáº¥t Excel hoáº·c gá»­i email payslip

### 4. Táº¡o biá»ƒu máº«u cÃ´ng tÃ¡c
- VÃ o menu "Biá»ƒu máº«u cÃ´ng tÃ¡c"
- Chá»n loáº¡i form (F21/F22/F23)
- Äiá»n thÃ´ng tin chuyáº¿n cÃ´ng tÃ¡c
- Nháº¥n "Táº¡o form" Ä‘á»ƒ xuáº¥t file Word

### 5. Quáº£n lÃ½ dá»± Ã¡n
- VÃ o menu "Project Management"
- **Kanban Board**: KÃ©o tháº£ task giá»¯a cÃ¡c cá»™t (To Do, In Progress, Done)
- **Gantt Chart**: Xem timeline tá»•ng quan dá»± Ã¡n
- **Projects**: Táº¡o vÃ  quáº£n lÃ½ cÃ¡c dá»± Ã¡n
- **Tasks**: PhÃ¢n cÃ´ng cÃ´ng viá»‡c, set deadline, priority
- **Team Timeline**: Xem lá»‹ch lÃ m viá»‡c cá»§a tá»«ng thÃ nh viÃªn
- **Workload Dashboard**: ÄÃ¡nh giÃ¡ khá»‘i lÆ°á»£ng cÃ´ng viá»‡c

---

## ğŸ”’ Báº£o máº­t | Security

- Máº­t kháº©u Ä‘Æ°á»£c mÃ£ hÃ³a trÆ°á»›c khi lÆ°u
- Session-based authentication
- CORS Ä‘Æ°á»£c cáº¥u hÃ¬nh cho mÃ´i trÆ°á»ng production
- Input validation vá»›i Pydantic
- XSS protection

---

## ğŸ“„ License

MIT License - Xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

---

## ğŸ¤ ÄÃ³ng gÃ³p | Contributing

Má»i Ä‘Ã³ng gÃ³p Ä‘á»u Ä‘Æ°á»£c chÃ o Ä‘Ã³n! Vui lÃ²ng:
1. Fork repository
2. Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Má»Ÿ Pull Request

---

## ğŸ“ LiÃªn há»‡ | Contact

Náº¿u báº¡n cÃ³ cÃ¢u há»i hoáº·c gÃ³p Ã½, vui lÃ²ng táº¡o Issue trÃªn GitHub.

---

<p align="center">
  Made with â¤ï¸ for Vietnamese Enterprises
</p>

